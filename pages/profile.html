<!-- ä¸ªäººä¸­å¿ƒé¡µå†…å®¹ - ä¸åŒ…å«å…¬å…±å¯¼èˆªæ  -->

<!-- é¡µé¢åŠ è½½åŠ¨ç”» -->
<div class="page-loading" id="pageLoading">
    <div class="loading-spinner"></div>
    <p>åŠ è½½ä¸­...</p>
</div>

<!-- ä¸ªäººä¸­å¿ƒå¤´éƒ¨ -->
<header class="profile-header">
    <div class="container">
        <div class="profile-main-info">
            <div class="profile-avatar" id="profileAvatar">
                JS
            </div>
            <div class="profile-details">
                <h1 class="profile-name">
                    John Smith
                    <span class="vip-badge"><i class="fas fa-crown"></i> VIP</span>
                </h1>
                <p class="profile-email">
                    <i class="fas fa-envelope"></i> john@example.com
                </p>
                <div class="profile-stats">
                    <div class="stat-item">
                        <span class="stat-value" id="watchHours">142</span>
                        <span class="stat-label">è§‚çœ‹å°æ—¶</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="dramaCount">38</span>
                        <span class="stat-label">è¿½å‰§æ•°</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="episodeCount">245</span>
                        <span class="stat-label">è§‚çœ‹é›†æ•°</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="profile-actions">
            <button class="btn btn-primary" id="editProfileBtn">
                <i class="fas fa-edit"></i>
                ç¼–è¾‘èµ„æ–™
            </button>
            <button class="btn btn-secondary" id="settingsBtn">
                <i class="fas fa-cog"></i>
                è®¾ç½®
            </button>
        </div>
    </div>
</header>

<!-- VIPçŠ¶æ€ -->
<div class="container">
    <div class="vip-status-container">
        <div class="vip-info">
            <div class="vip-icon">
                <i class="fas fa-crown"></i>
            </div>
            <div class="vip-details">
                <h3>VIPä¼šå‘˜</h3>
                <p>æœ‰æ•ˆæœŸè‡³ 2024-12-31 Â· å‰©ä½™289å¤©</p>
            </div>
        </div>
        <button class="btn btn-primary" id="manageVipBtn">
            <i class="fas fa-gem"></i>
            ç®¡ç†VIP
        </button>
    </div>
</div>

<!-- ä¸»å†…å®¹ -->
<main class="profile-main container">
    <!-- é€‰é¡¹å¡ -->
    <div class="profile-tabs">
        <button class="profile-tab active" data-tab="profile">
            <i class="fas fa-user"></i>
            ä¸ªäººèµ„æ–™
        </button>
        <button class="profile-tab" data-tab="history">
            <i class="fas fa-history"></i>
            è§‚çœ‹å†å²
        </button>
        <button class="profile-tab" data-tab="favorites">
            <i class="fas fa-heart"></i>
            æˆ‘çš„æ”¶è—
        </button>
        <button class="profile-tab" data-tab="settings">
            <i class="fas fa-cog"></i>
            è®¾ç½®
        </button>
    </div>
    
    <!-- ä¸ªäººèµ„æ–™é€‰é¡¹å¡ -->
    <div class="tab-content active" id="profileTab">
        <div class="profile-section">
            <div class="section-header">
                <h3 class="section-title">åŸºæœ¬ä¿¡æ¯</h3>
            </div>
            <div class="section-content">
                <form id="profileForm">
                    <div class="form-group">
                        <label class="form-label">æ˜¾ç¤ºåç§°</label>
                        <input type="text" class="form-control" id="displayName" 
                               placeholder="è¾“å…¥ä½ çš„æ˜¾ç¤ºåç§°">
                    </div>
                    <div class="form-group">
                        <label class="form-label">é‚®ç®±åœ°å€</label>
                        <input type="email" class="form-control" id="email" 
                               placeholder="your@email.com" readonly>
                        <small class="form-text">é‚®ç®±ä¸å¯ä¿®æ”¹</small>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">å›½å®¶/åœ°åŒº</label>
                            <select class="form-control" id="country">
                                <option value="US">ç¾å›½</option>
                                <option value="CN">ä¸­å›½</option>
                                <option value="GB">è‹±å›½</option>
                                <option value="JP">æ—¥æœ¬</option>
                                <option value="KR">éŸ©å›½</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">åå¥½è¯­è¨€</label>
                            <select class="form-control" id="language">
                                <option value="en">English</option>
                                <option value="zh">ä¸­æ–‡</option>
                                <option value="es">EspaÃ±ol</option>
                                <option value="ja">æ—¥æœ¬èª</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ä¸ªäººç®€ä»‹</label>
                        <textarea class="form-control" rows="4" 
                                  placeholder="ä»‹ç»ä¸€ä¸‹è‡ªå·±..."></textarea>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- é‡‘å¸ç³»ç»Ÿ -->
        <div class="profile-section">
            <div class="section-header">
                <h3 class="section-title">é‡‘å¸ç³»ç»Ÿ</h3>
                <div class="section-action" id="viewAllTransactions">
                    äº¤æ˜“è®°å½• <i class="fas fa-arrow-right"></i>
                </div>
            </div>
            <div class="coin-balance-container">
                <div class="coin-balance">
                    <div class="coin-amount">
                        <i class="fas fa-coins"></i>
                        <span>1,250</span>
                    </div>
                    <div class="coin-value">â‰ˆ $12.50 USD</div>
                </div>
                <div class="coin-actions">
                    <button class="coin-btn" id="earnCoinsBtn">
                        <i class="fas fa-plus-circle"></i>
                        <span>èµšé‡‘å¸</span>
                    </button>
                    <button class="coin-btn" id="buyCoinsBtn">
                        <i class="fas fa-shopping-cart"></i>
                        <span>è´­ä¹°</span>
                    </button>
                    <button class="coin-btn" id="withdrawCoinsBtn">
                        <i class="fas fa-wallet"></i>
                        <span>æç°</span>
                    </button>
                </div>
            </div>
            
            <div class="recent-transactions">
                <h4>æœ€è¿‘äº¤æ˜“</h4>
                <div id="transactionsList"></div>
            </div>
        </div>
    </div>
    
    <!-- è§‚çœ‹å†å²é€‰é¡¹å¡ -->
    <div class="tab-content" id="historyTab">
        <div class="profile-section">
            <div class="section-header">
                <h3 class="section-title">è§‚çœ‹å†å²</h3>
                <div class="section-action" id="clearHistoryBtn">
                    æ¸…ç©ºè®°å½• <i class="fas fa-trash"></i>
                </div>
            </div>
            <div class="history-list" id="historyList">
                <!-- å†å²è®°å½•é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
    </div>
    
    <!-- æ”¶è—é€‰é¡¹å¡ -->
    <div class="tab-content" id="favoritesTab">
        <div class="profile-section">
            <div class="section-header">
                <h3 class="section-title">æˆ‘çš„æ”¶è—</h3>
                <div class="section-action" id="manageFavoritesBtn">
                    ç®¡ç† <i class="fas fa-edit"></i>
                </div>
            </div>
            <div class="favorites-grid" id="favoritesGrid">
                <!-- æ”¶è—é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
    </div>
    
    <!-- è®¾ç½®é€‰é¡¹å¡ -->
    <div class="tab-content" id="settingsTab">
        <div class="profile-section">
            <div class="section-header">
                <h3 class="section-title">è´¦æˆ·è®¾ç½®</h3>
            </div>
            <div class="settings-list">
                <div class="setting-item" id="notificationSettings">
                    <div class="setting-info">
                        <div class="setting-icon">
                            <i class="fas fa-bell"></i>
                        </div>
                        <div class="setting-details">
                            <h4>é€šçŸ¥è®¾ç½®</h4>
                            <p>ç®¡ç†æ¨é€é€šçŸ¥å’Œé‚®ä»¶æé†’</p>
                        </div>
                    </div>
                    <div class="setting-action">
                        <label class="switch">
                            <input type="checkbox" id="notificationToggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                
                <div class="setting-item" id="languageSettings">
                    <div class="setting-info">
                        <div class="setting-icon">
                            <i class="fas fa-language"></i>
                        </div>
                        <div class="setting-details">
                            <h4>è¯­è¨€è®¾ç½®</h4>
                            <p>åº”ç”¨è¯­è¨€å’Œå­—å¹•åå¥½</p>
                        </div>
                    </div>
                    <div class="setting-action">
                        <span id="currentLanguage">English</span>
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </div>
                
                <div class="setting-item" id="playbackSettings">
                    <div class="setting-info">
                        <div class="setting-icon">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <div class="setting-details">
                            <h4>æ’­æ”¾è®¾ç½®</h4>
                            <p>é»˜è®¤ç”»è´¨ã€è‡ªåŠ¨æ’­æ”¾ç­‰</p>
                        </div>
                    </div>
                    <div class="setting-action">
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </div>
                
                <div class="setting-item" id="privacySettings">
                    <div class="setting-info">
                        <div class="setting-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="setting-details">
                            <h4>éšç§ä¸å®‰å…¨</h4>
                            <p>è´¦æˆ·å®‰å…¨å’Œéšç§è®¾ç½®</p>
                        </div>
                    </div>
                    <div class="setting-action">
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </div>
                
                <div class="setting-item" id="helpSettings">
                    <div class="setting-info">
                        <div class="setting-icon">
                            <i class="fas fa-question-circle"></i>
                        </div>
                        <div class="setting-details">
                            <h4>å¸®åŠ©ä¸æ”¯æŒ</h4>
                            <p>å¸¸è§é—®é¢˜ã€è”ç³»å®¢æœ</p>
                        </div>
                    </div>
                    <div class="setting-action">
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </div>
                
                <div class="setting-item" id="logoutBtn">
                    <div class="setting-info">
                        <div class="setting-icon" style="background: rgba(245,34,45,0.1); color: #f5222d;">
                            <i class="fas fa-sign-out-alt"></i>
                        </div>
                        <div class="setting-details">
                            <h4>é€€å‡ºç™»å½•</h4>
                            <p>ç™»å‡ºå½“å‰è´¦æˆ·</p>
                        </div>
                    </div>
                    <div class="setting-action">
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- ç¼–è¾‘èµ„æ–™æ¨¡æ€æ¡† -->
<div class="modal-overlay" id="editProfileModal">
    <div class="modal">
        <div class="modal-header">
            <h3 class="modal-title">ç¼–è¾‘èµ„æ–™</h3>
            <button class="close-modal"><i class="fas fa-times"></i></button>
        </div>
        <div class="modal-body">
            <div class="avatar-upload">
                <div class="profile-avatar large" id="editAvatar">
                    JS
                </div>
                <button class="btn btn-secondary btn-sm" id="changeAvatarBtn">
                    <i class="fas fa-camera"></i>
                    æ›´æ¢å¤´åƒ
                </button>
            </div>
            
            <div class="form-group">
                <label class="form-label">æ˜¾ç¤ºåç§°</label>
                <input type="text" class="form-control" id="editDisplayName" 
                       placeholder="è¾“å…¥ä½ çš„æ˜¾ç¤ºåç§°">
            </div>
            
            <div class="form-group">
                <label class="form-label">é‚®ç®±åœ°å€</label>
                <input type="email" class="form-control" id="editEmail" 
                       placeholder="your@email.com">
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label">å›½å®¶/åœ°åŒº</label>
                    <select class="form-control" id="editCountry">
                        <option value="US">ç¾å›½</option>
                        <option value="CN">ä¸­å›½</option>
                        <option value="GB">è‹±å›½</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">è¯­è¨€</label>
                    <select class="form-control" id="editLanguage">
                        <option value="en">English</option>
                        <option value="zh">ä¸­æ–‡</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">ä¸ªäººç®€ä»‹</label>
                <textarea class="form-control" rows="4" id="editBio"></textarea>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary" id="cancelEditBtn">å–æ¶ˆ</button>
            <button class="btn btn-primary" id="saveProfileBtn">ä¿å­˜</button>
        </div>
    </div>
</div>

<!-- è¯­è¨€è®¾ç½®æ¨¡æ€æ¡† -->
<div class="modal-overlay" id="languageModal">
    <div class="modal">
        <div class="modal-header">
            <h3 class="modal-title">é€‰æ‹©è¯­è¨€</h3>
            <button class="close-modal"><i class="fas fa-times"></i></button>
        </div>
        <div class="modal-body">
            <div class="language-options">
                <div class="language-option active" data-lang="en">
                    <span class="language-flag">ğŸ‡ºğŸ‡¸</span>
                    <span class="language-name">English</span>
                    <i class="fas fa-check"></i>
                </div>
                <div class="language-option" data-lang="zh">
                    <span class="language-flag">ğŸ‡¨ğŸ‡³</span>
                    <span class="language-name">ä¸­æ–‡</span>
                </div>
                <div class="language-option" data-lang="es">
                    <span class="language-flag">ğŸ‡ªğŸ‡¸</span>
                    <span class="language-name">EspaÃ±ol</span>
                </div>
                <div class="language-option" data-lang="ja">
                    <span class="language-flag">ğŸ‡¯ğŸ‡µ</span>
                    <span class="language-name">æ—¥æœ¬èª</span>
                </div>
                <div class="language-option" data-lang="ko">
                    <span class="language-flag">ğŸ‡°ğŸ‡·</span>
                    <span class="language-name">í•œêµ­ì–´</span>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- é¡µé¢ç‰¹å®šæ ·å¼ -->
<style>
    .page-loading {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: var(--dark);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s;
    }
    
    .page-loading.show {
        opacity: 1;
        visibility: visible;
    }
    
    .page-loading .loading-spinner {
        width: 50px;
        height: 50px;
        border: 3px solid rgba(255,56,92,0.3);
        border-top-color: var(--primary);
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin-bottom: 15px;
    }
    
    @keyframes spin {
        to { transform: rotate(360deg); }
    }
    
    .profile-header {
        background: linear-gradient(135deg, var(--light-dark), var(--secondary));
        padding: 30px 0;
        position: relative;
        overflow: hidden;
    }
    
    .profile-header .container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 20px;
    }
    
    .profile-main-info {
        display: flex;
        align-items: center;
        gap: 25px;
    }
    
    .profile-avatar {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--primary), #FF6B8B);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 40px;
        font-weight: 700;
        color: white;
        border: 4px solid rgba(255,255,255,0.2);
    }
    
    .profile-avatar.large {
        width: 120px;
        height: 120px;
        font-size: 48px;
        margin: 0 auto 20px;
    }
    
    .profile-details {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }
    
    .profile-name {
        font-size: 28px;
        font-weight: 800;
        display: flex;
        align-items: center;
        gap: 15px;
        flex-wrap: wrap;
    }
    
    .vip-badge {
        background: linear-gradient(135deg, #FFD700, #FFA500);
        color: #000;
        padding: 5px 15px;
        border-radius: 25px;
        font-size: 14px;
        font-weight: 700;
        display: inline-flex;
        align-items: center;
        gap: 8px;
    }
    
    .profile-email {
        color: var(--gray);
        display: flex;
        align-items: center;
        gap: 10px;
    }
    
    .profile-email i {
        color: var(--primary);
    }
    
    .profile-stats {
        display: flex;
        gap: 30px;
        margin-top: 10px;
    }
    
    .stat-item {
        text-align: center;
    }
    
    .stat-value {
        font-size: 24px;
        font-weight: 800;
        color: var(--primary);
        display: block;
    }
    
    .stat-label {
        font-size: 13px;
        color: var(--gray);
    }
    
    .profile-actions {
        display: flex;
        gap: 15px;
    }
    
    .btn {
        padding: 12px 25px;
        border-radius: 25px;
        border: none;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        display: inline-flex;
        align-items: center;
        gap: 10px;
    }
    
    .btn-primary {
        background: var(--primary);
        color: white;
    }
    
    .btn-primary:hover {
        background: #E0314F;
        transform: translateY(-2px);
    }
    
    .btn-secondary {
        background: transparent;
        color: var(--light);
        border: 1px solid var(--gray);
    }
    
    .btn-secondary:hover {
        background: rgba(255,255,255,0.1);
    }
    
    .btn-sm {
        padding: 8px 16px;
        font-size: 14px;
    }
    
    .vip-status-container {
        background: linear-gradient(135deg, rgba(255,215,0,0.1), rgba(255,165,0,0.1));
        border: 1px solid #FFD700;
        border-radius: 20px;
        padding: 25px;
        margin: 30px 0;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 20px;
    }
    
    .vip-info {
        display: flex;
        align-items: center;
        gap: 20px;
    }
    
    .vip-icon {
        font-size: 40px;
        color: #FFD700;
    }
    
    .vip-details h3 {
        font-size: 20px;
        margin-bottom: 5px;
    }
    
    .vip-details p {
        color: var(--gray);
    }
    
    .profile-main {
        padding: 30px 0;
    }
    
    .profile-tabs {
        display: flex;
        gap: 10px;
        margin-bottom: 30px;
        border-bottom: 1px solid rgba(255,255,255,0.1);
        padding-bottom: 15px;
        overflow-x: auto;
    }
    
    .profile-tab {
        background: transparent;
        border: none;
        color: var(--gray);
        padding: 10px 20px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: all 0.3s;
        white-space: nowrap;
    }
    
    .profile-tab i {
        font-size: 18px;
    }
    
    .profile-tab:hover {
        color: var(--light);
    }
    
    .profile-tab.active {
        color: var(--primary);
        position: relative;
    }
    
    .profile-tab.active::after {
        content: '';
        position: absolute;
        bottom: -15px;
        left: 0;
        right: 0;
        height: 3px;
        background: var(--primary);
        border-radius: 3px 3px 0 0;
    }
    
    .tab-content {
        display: none;
    }
    
    .tab-content.active {
        display: block;
    }
    
    .profile-section {
        background: var(--light-dark);
        border-radius: 20px;
        overflow: hidden;
        margin-bottom: 25px;
    }
    
    .section-header {
        padding: 20px;
        border-bottom: 1px solid rgba(255,255,255,0.1);
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    .section-title {
        font-size: 18px;
        font-weight: 700;
        display: flex;
        align-items: center;
        gap: 10px;
    }
    
    .section-title i {
        color: var(--primary);
    }
    
    .section-action {
        color: var(--primary);
        cursor: pointer;
        font-size: 14px;
        display: flex;
        align-items: center;
        gap: 5px;
    }
    
    .section-content {
        padding: 20px;
    }
    
    .form-group {
        margin-bottom: 20px;
    }
    
    .form-label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
    }
    
    .form-control {
        width: 100%;
        padding: 12px 16px;
        background: rgba(255,255,255,0.1);
        border: 1px solid rgba(255,255,255,0.1);
        border-radius: 10px;
        color: var(--light);
        font-size: 15px;
    }
    
    .form-control:focus {
        outline: none;
        border-color: var(--primary);
    }
    
    .form-control[readonly] {
        background: rgba(255,255,255,0.05);
        cursor: not-allowed;
    }
    
    .form-text {
        font-size: 12px;
        color: var(--gray);
        margin-top: 5px;
        display: block;
    }
    
    .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
    }
    
    .coin-balance-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 30px 20px;
        border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    
    .coin-balance {
        text-align: center;
        margin-bottom: 20px;
    }
    
    .coin-amount {
        font-size: 48px;
        font-weight: 800;
        color: #FFAB00;
        display: flex;
        align-items: center;
        gap: 15px;
    }
    
    .coin-amount i {
        font-size: 48px;
    }
    
    .coin-value {
        color: var(--gray);
        font-size: 16px;
    }
    
    .coin-actions {
        display: flex;
        gap: 15px;
        width: 100%;
        justify-content: center;
    }
    
    .coin-btn {
        flex: 1;
        max-width: 120px;
        padding: 12px;
        background: rgba(255,255,255,0.05);
        border: none;
        border-radius: 10px;
        color: var(--light);
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 5px;
    }
    
    .coin-btn:hover {
        background: rgba(255,56,92,0.2);
        transform: translateY(-2px);
    }
    
    .coin-btn i {
        font-size: 24px;
    }
    
    .coin-btn:nth-child(1) i { color: var(--success); }
    .coin-btn:nth-child(2) i { color: var(--primary); }
    .coin-btn:nth-child(3) i { color: var(--warning); }
    
    .recent-transactions {
        padding: 20px;
    }
    
    .recent-transactions h4 {
        margin-bottom: 15px;
        color: var(--gray);
    }
    
    .transaction-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px;
        border-bottom: 1px solid rgba(255,255,255,0.05);
    }
    
    .transaction-item:last-child {
        border-bottom: none;
    }
    
    .transaction-info {
        display: flex;
        align-items: center;
        gap: 15px;
    }
    
    .transaction-icon {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .transaction-earned .transaction-icon {
        background: rgba(0,200,83,0.1);
        color: var(--success);
    }
    
    .transaction-spent .transaction-icon {
        background: rgba(255,56,92,0.1);
        color: var(--primary);
    }
    
    .transaction-details h4 {
        font-size: 15px;
        font-weight: 600;
        margin-bottom: 4px;
    }
    
    .transaction-details p {
        font-size: 12px;
        color: var(--gray);
    }
    
    .transaction-amount {
        font-weight: 700;
    }
    
    .transaction-earned .transaction-amount {
        color: var(--success);
    }
    
    .transaction-spent .transaction-amount {
        color: var(--primary);
    }
    
    .history-list {
        padding: 20px;
    }
    
    .history-item {
        display: flex;
        gap: 15px;
        padding: 15px;
        border-radius: 12px;
        background: rgba(255,255,255,0.03);
        margin-bottom: 10px;
        cursor: pointer;
        transition: all 0.3s;
    }
    
    .history-item:hover {
        background: rgba(255,56,92,0.1);
        transform: translateX(5px);
    }
    
    .history-thumb {
        width: 80px;
        height: 60px;
        border-radius: 8px;
        overflow: hidden;
        flex-shrink: 0;
    }
    
    .history-thumb img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    
    .history-info {
        flex: 1;
    }
    
    .history-title {
        font-weight: 600;
        margin-bottom: 5px;
    }
    
    .history-meta {
        display: flex;
        justify-content: space-between;
        font-size: 12px;
        color: var(--gray);
        margin-bottom: 8px;
    }
    
    .history-progress {
        height: 4px;
        background: rgba(255,255,255,0.1);
        border-radius: 2px;
        overflow: hidden;
    }
    
    .history-progress-bar {
        height: 100%;
        background: var(--primary);
        border-radius: 2px;
    }
    
    .favorites-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        gap: 15px;
        padding: 20px;
    }
    
    .favorite-item {
        background: rgba(255,255,255,0.03);
        border-radius: 12px;
        overflow: hidden;
        cursor: pointer;
        transition: all 0.3s;
    }
    
    .favorite-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.3);
    }
    
    .favorite-thumb {
        position: relative;
        aspect-ratio: 16 / 9;
        overflow: hidden;
    }
    
    .favorite-thumb img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    
    .favorite-thumb .vip-badge {
        position: absolute;
        top: 10px;
        left: 10px;
        font-size: 10px;
        padding: 3px 8px;
    }
    
    .favorite-info {
        padding: 12px;
    }
    
    .favorite-title {
        font-size: 14px;
        font-weight: 600;
        margin-bottom: 4px;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
    
    .favorite-meta {
        font-size: 12px;
        color: var(--gray);
    }
    
    .settings-list {
        padding: 20px;
    }
    
    .setting-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px;
        border-bottom: 1px solid rgba(255,255,255,0.05);
        cursor: pointer;
        transition: background 0.3s;
    }
    
    .setting-item:hover {
        background: rgba(255,255,255,0.02);
    }
    
    .setting-info {
        display: flex;
        align-items: center;
        gap: 15px;
    }
    
    .setting-icon {
        width: 40px;
        height: 40px;
        border-radius: 10px;
        background: rgba(255,56,92,0.1);
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--primary);
    }
    
    .setting-details h4 {
        font-size: 15px;
        font-weight: 600;
        margin-bottom: 4px;
    }
    
    .setting-details p {
        font-size: 12px;
        color: var(--gray);
    }
    
    .setting-action {
        color: var(--gray);
    }
    
    .switch {
        position: relative;
        display: inline-block;
        width: 50px;
        height: 24px;
    }
    
    .switch input {
        opacity: 0;
        width: 0;
        height: 0;
    }
    
    .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: var(--gray);
        transition: .3s;
        border-radius: 24px;
    }
    
    .slider:before {
        position: absolute;
        content: "";
        height: 18px;
        width: 18px;
        left: 3px;
        bottom: 3px;
        background-color: white;
        transition: .3s;
        border-radius: 50%;
    }
    
    input:checked + .slider {
        background-color: var(--primary);
    }
    
    input:checked + .slider:before {
        transform: translateX(26px);
    }
    
    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0,0,0,0.8);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s;
    }
    
    .modal-overlay.active {
        opacity: 1;
        visibility: visible;
    }
    
    .modal {
        background: var(--light-dark);
        border-radius: 20px;
        width: 90%;
        max-width: 500px;
        max-height: 90vh;
        overflow-y: auto;
        box-shadow: 0 20px 60px rgba(0,0,0,0.5);
    }
    
    .modal-header {
        padding: 20px;
        border-bottom: 1px solid rgba(255,255,255,0.1);
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    .modal-title {
        font-size: 20px;
        font-weight: 700;
    }
    
    .close-modal {
        background: transparent;
        border: none;
        color: var(--gray);
        font-size: 20px;
        cursor: pointer;
        width: 36px;
        height: 36px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .close-modal:hover {
        background: rgba(255,255,255,0.1);
    }
    
    .modal-body {
        padding: 20px;
    }
    
    .modal-footer {
        padding: 20px;
        border-top: 1px solid rgba(255,255,255,0.1);
        display: flex;
        justify-content: flex-end;
        gap: 15px;
    }
    
    .avatar-upload {
        text-align: center;
        margin-bottom: 20px;
    }
    
    .language-options {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }
    
    .language-option {
        display: flex;
        align-items: center;
        gap: 15px;
        padding: 15px;
        border-radius: 12px;
        background: rgba(255,255,255,0.03);
        cursor: pointer;
        transition: all 0.3s;
    }
    
    .language-option:hover {
        background: rgba(255,56,92,0.1);
    }
    
    .language-option.active {
        background: rgba(255,56,92,0.2);
        border-left: 3px solid var(--primary);
    }
    
    .language-flag {
        font-size: 24px;
    }
    
    .language-name {
        flex: 1;
        font-weight: 600;
    }
    
    .language-option i {
        color: var(--primary);
        opacity: 0;
    }
    
    .language-option.active i {
        opacity: 1;
    }
    
    .earn-options {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }
    
    .earn-option {
        display: flex;
        align-items: center;
        gap: 20px;
        padding: 20px;
        background: rgba(255,255,255,0.03);
        border-radius: 12px;
    }
    
    .earn-option i {
        font-size: 36px;
        color: var(--primary);
    }
    
    .earn-option h4 {
        margin-bottom: 5px;
    }
    
    .earn-option p {
        color: var(--gray);
        font-size: 13px;
        margin-bottom: 10px;
    }
    
    .withdraw-info {
        text-align: center;
        padding: 20px;
        background: rgba(255,56,92,0.1);
        border-radius: 12px;
        margin-bottom: 20px;
    }
    
    .withdraw-info p {
        margin: 5px 0;
    }
    
    .withdraw-info strong {
        color: var(--primary);
        font-size: 18px;
    }
    
    @media (max-width: 768px) {
        .profile-header .container {
            flex-direction: column;
            text-align: center;
        }
        
        .profile-main-info {
            flex-direction: column;
        }
        
        .profile-stats {
            justify-content: center;
        }
        
        .form-row {
            grid-template-columns: 1fr;
        }
        
        .favorites-grid {
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
        }
        
        .coin-actions {
            flex-direction: column;
            align-items: center;
        }
        
        .coin-btn {
            max-width: 100%;
        }
        
        .profile-tabs {
            padding-bottom: 10px;
        }
        
        .profile-tab {
            padding: 8px 12px;
            font-size: 14px;
        }
        
        .profile-tab i {
            font-size: 16px;
        }
    }
    
    @media (max-width: 480px) {
        .profile-name {
            font-size: 24px;
            flex-direction: column;
            gap: 10px;
        }
        
        .profile-actions {
            width: 100%;
        }
        
        .profile-actions .btn {
            flex: 1;
            justify-content: center;
        }
        
        .vip-status-container {
            flex-direction: column;
            text-align: center;
        }
        
        .vip-info {
            flex-direction: column;
        }
    }
</style>